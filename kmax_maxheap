//============================================================================
// Name        : kmaxelements_with_maxheap.cpp
// Description : k maximum elements with maxheap
//============================================================================

#include <iostream>
#include <cstdio>
using namespace std;

void swap(int *a, int *b)
{
	int temp = *a;
	*a = *b;
	*b = temp;
}

void heapify(int a[], int i, int size)
{
	int left, right;
	left = 2*i+1;
	right =2*i+2;
	int largest = i;
	if(left<=size && a[i]<a[left])
	{
		largest = left;
	}
	if(right<=size && a[left]<a[right])
	{
		largest = right;
	}
	if(i!=largest)
	{
		swap(&a[largest],&a[i] );
		heapify(a,largest, size);
	}
}

void buildheap(int a[], int size)
{
	for(int i=size/2;i>=0;i--)
	{
		heapify(a,i,size);
	}
}

int main() {
	int a[] = {1,4,3,2,7,6,0,9,5};
	int n = sizeof(a)/ sizeof (a[0]);
	buildheap (a,n);
	for (int i=0;i<n;i++)
	{
		cout<< a[i] <<" ";
	}
	return 0;
}
